/* —— CSS: minimal, responsive, dark-mode aware —— */
:root {
  --topic: #ffcc00;
  --bg: #0b1220;            /* deep blue-gray */
  --bg-elev: #111a2b;
  --text: #e6eefc;
  --muted: #a9b6d6;
  --brand: #7aa2ff;         /* soft blue */
  --accent: #6ee7b7;        /* mint */
  --ring: rgba(122,162,255,.35);
  --card: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}

/* Light mode when user prefers it */
@media (prefers-color-scheme: light) {
  :root {
    --bg:#f7f9fe;
    --bg-elev:#ffffff;
    --text:#0a1020;
    --muted:#5b6786;
    --brand:#3b6cff;
    --accent:#10b981;
    --ring:rgba(59,108,255,.25);
  }

  /* Solid base + stacking context for overlay */
  body { background: var(--bg); position: relative; }

  /* Blurred overlay (gradients + pattern) */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;                 /* visible behind content */
    pointer-events: none;
    background:
      radial-gradient(40vw 40vw at 20% -10%, #dce8ff 0, transparent 60%),
      radial-gradient(30vw 30vw at 110% 10%, #e7fff5 0, transparent 60%),
      url("assets/img/bg-pattern.png") repeat;
    background-size: auto, auto, 200px 200px;  /* 3 layers → 3 sizes */
    filter: blur(12px) opacity(0.25);
  }

  /* Ensure content is above overlay */
  body > * { position: relative; z-index: 1; }
}

/* Force theme overrides (JS sets data-theme on <html>) */
[data-theme="light"]:root {
  --bg:#f7f9fe;
  --bg-elev:#ffffff;
  --text:#0a1020;
  --muted:#5b6786;
  --brand:#3b6cff;
  --accent:#10b981;
  --ring:rgba(59,108,255,.25);
}
[data-theme="dark"]:root {
  --bg:#0b1220;
  --bg-elev:#111a2b;
  --text:#e6eefc;
  --muted:#a9b6d6;
  --brand:#7aa2ff;
  --accent:#6ee7b7;
  --ring:rgba(122,162,255,.35);
}

/* Base reset */
* { box-sizing: border-box }
html, body { margin:0; padding:0 }
html { scroll-behavior: smooth; }

body {
  font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: var(--bg);
}

/* Dark-mode default gradients + blurred pattern overlay */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(40vw 40vw at -10% -20%, #102038 0, transparent 70%),
    radial-gradient(30vw 30vw at 110% -10%, #0b2a2a 0, transparent 60%),
    url("assets/img/bg-pattern.png") repeat;
  background-size: auto, auto, 400px 400px;
  filter: blur(14px) opacity(0.18);
}
body > * { position: relative; z-index: 1; }

/* If JS forces themes, keep gradients coherent */
[data-theme="light"] body::before {
  background:
    radial-gradient(40vw 40vw at 20% -10%, #dce8ff 0, transparent 60%),
    radial-gradient(30vw 30vw at 110% 10%, #e7fff5 0, transparent 60%),
    url("assets/img/bg-pattern.png") repeat;
  background-size: auto, auto, 200px 200px;
  filter: blur(12px) opacity(0.25);
}
[data-theme="dark"] body::before {
  background:
    radial-gradient(40vw 40vw at -10% -20%, #102038 0, transparent 70%),
    radial-gradient(30vw 30vw at 110% -10%, #0b2a2a 0, transparent 60%),
    url("assets/img/bg-pattern.png") repeat;
  background-size: auto, auto, 400px 400px;
  filter: blur(14px) opacity(0.18);
}

/* Layout */
.container { max-width: 1100px; margin: 0 auto; padding: 24px }

/* Header with fallback + blur support + shadow */
header {
  position: sticky;
  top: 0;
  z-index: 10;
  background: rgba(17, 26, 43, 0.6); /* fallback if no blur */
  border-bottom: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 1px 0 rgba(255,255,255,.06) inset,
              0 10px 30px -25px var(--ring);
}
@supports ((-webkit-backdrop-filter: blur(10px)) or (backdrop-filter: blur(10px))) {
  header {
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    background: color-mix(in oklab, var(--bg) 85%, transparent);
  }
}
/* Accessibility: reduce transparency if user prefers */
@media (prefers-reduced-transparency: reduce) {
  header {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    background: var(--bg-elev);
  }
}

.nav { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
.nav a.brand { font-weight: 800; letter-spacing:.4px; color: var(--text) }
.nav .links { display: flex; gap: 18px; flex-wrap: wrap; }

/* Active section highlight in nav */
.links a.active { color: var(--accent); }
.links a.active::after { transform: scaleX(1); background: var(--accent); opacity: 1; }

/* Buttons */
.btn {
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.7rem 1rem; border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background: var(--card); color:var(--text);
  box-shadow: 0 6px 24px -12px var(--ring);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 28px -10px var(--ring);
}
.btn:active {
  transform: translateY(0);
  box-shadow: 0 6px 18px -12px var(--ring);
}
.btn.primary {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--brand) 30%, #ffffff 10%),
    color-mix(in oklab, var(--brand) 15%, #000 85%)
  );
  border-color: transparent;
}

/* Underline animation for nav links + secondary buttons */
.links a,
.btn:not(.primary) { position: relative; }
.links a::after,
.btn:not(.primary)::after {
  content: "";
  position: absolute;
  left: 12px; right: 12px; bottom: 8px;
  height: 2px;
  transform: scaleX(0);
  transform-origin: left;
  background: currentColor;
  opacity: .55;
  transition: transform .2s ease;
}
.links a:hover::after,
.btn:not(.primary):hover::after { transform: scaleX(1); }

/* Focus ring (accessibility) */
.btn:focus-visible,
a:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand) 40%, white 0%);
  border-color: color-mix(in oklab, var(--brand) 40%, white 0%);
  border-radius: 14px;
}

/* Grids and sections */
.grid { display:grid; gap: 22px; }
@media (min-width: 900px){ .grid.cols-3{ grid-template-columns: repeat(3,1fr) } }
@media (min-width: 700px){ .grid.cols-2{ grid-template-columns: repeat(2,1fr) } }
section { padding: 56px 0 }

/* Typography */
h1, h2 {
  font-family: 'Poppins', sans-serif;
  font-weight: 700;              /* bold */
  color: var(--topic);
}
h1 {
  font-size: clamp(30px, 4.6vw, 54px);
  line-height: 1.1;
  margin: 0 0 16px 0;
}
h2 {
  font-size: clamp(22px, 2.8vw, 32px);
  margin: 0 0 12px 0;
}
p.lead { font-size: clamp(16px, 2vw, 20px); color: var(--muted); max-width: 70ch }
main.container > section p { max-width: 70ch; }

/* Hero */
.hero {
  display:grid; gap: 22px; align-items: center;
  grid-template-columns: 1.1fr .9fr;
}
.hero .card {
  border-radius: 20px; padding: 22px;
  background: var(--card);
  border: 1px solid rgba(255,255,255,.06);
}

/* Project thumbs */
.project-thumb {
  width:100%; aspect-ratio:16/9; object-fit:cover;
  border-radius:12px; border:1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03); display:block;
  transition: transform .35s ease, filter .35s ease;
}
.card:hover .project-thumb { transform: scale(1.02); filter: saturate(1.05); }

/* Misc components */
.pill {
  font-size: 12px; display:inline-block;
  padding: .35rem .6rem; border-radius: 999px;
  background: #1a243a; color: var(--muted);
  border:1px solid rgba(255,255,255,.08);
}
.card {
  border-radius: 16px; background: var(--bg-elev);
  border: 1px solid rgba(255,255,255,.06); padding: 18px;
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
}
.card:hover {
  transform: translateY(-3px);
  box-shadow: 0 16px 38px -18px var(--ring);
}
.muted { color: var(--muted) }
ul.clean { list-style: none; padding: 0; margin: 0 }
ul.clean li { padding: 8px 0; border-bottom: 1px dashed rgba(255,255,255,.08) }
footer {
  padding: 48px 0; color: var(--muted);
  text-align:center; border-top:1px solid rgba(255,255,255,.06);
}
.tag {
  font-size: 12px; padding: .28rem .55rem; border-radius: 999px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
}
.flex { display:flex; gap:12px; align-items:center; flex-wrap: wrap }
.space { height: 16px }
.sr-only {
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
.avatar {
  width:140px; height:140px; border-radius:999px;
  object-fit:cover; border:2px solid rgba(255,255,255,.18);
  box-shadow: 0 8px 30px -12px var(--ring);
}

/* Scroll reveal */
.reveal {
  opacity: 0;
  transform: translateY(16px);
  transition: opacity .6s ease, transform .6s ease;
  will-change: opacity, transform;
}
.reveal.show { opacity: 1; transform: translateY(0); }
.reveal-left   { transform: translateX(-24px); }
.reveal-right  { transform: translateX(24px); }
.reveal-left.show, .reveal-right.show { transform: translateX(0); }
